2021-04-16 22:35:12.854 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-04-16 22:35:12.943 +05:00 [INF] User profile is available. Using '/home/vlad/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-04-16 22:35:13.433 +05:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-04-16 22:35:13.435 +05:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2021-04-16 22:35:13.435 +05:00 [DBG] The index {'ApplicationId'} was not created on entity type 'OpenIddictEntityFrameworkCoreAuthorization' as the properties are already covered by the index {'ApplicationId', 'Status', 'Subject', 'Type'}.
2021-04-16 22:35:13.435 +05:00 [DBG] The index {'ApplicationId'} was not created on entity type 'OpenIddictEntityFrameworkCoreToken' as the properties are already covered by the index {'ApplicationId', 'Status', 'Subject', 'Type'}.
2021-04-16 22:35:13.604 +05:00 [INF] Entity Framework Core 5.0.4 initialized 'AuthDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MaxPoolSize=128 
2021-04-16 22:35:13.659 +05:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2021-04-16 22:35:13.789 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (Nullable<DateTimeOffset>), 6], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ApplicationUser.PasswordHash (string), 9], [Property: ApplicationUser.PhoneNumber (string), 10], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ApplicationUser.SecurityStamp (string), 12], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 13], [Property: ApplicationUser.UserName (string) MaxLength(256), 14], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        Auth.Contexts.AuthDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-04-16 22:35:13.821 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:13.845 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2021-04-16 22:35:13.852 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.205 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.213 +05:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-04-16 22:35:14.228 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-04-16 22:35:14.253 +05:00 [DBG] Context 'AuthDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-04-16 22:35:14.293 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.296 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.299 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.304 +05:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2021-04-16 22:35:14.307 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (Nullable<DateTimeOffset>), 6], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ApplicationUser.PasswordHash (string), 9], [Property: ApplicationUser.PhoneNumber (string), 10], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ApplicationUser.SecurityStamp (string), 12], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 13], [Property: ApplicationUser.UserName (string) MaxLength(256), 14], }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        Auth.Contexts.AuthDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-04-16 22:35:14.308 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.308 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.308 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.308 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.308 +05:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-04-16 22:35:14.309 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-04-16 22:35:14.310 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.310 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.310 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.314 +05:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-04-16 22:35:14.325 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.325 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.325 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.325 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.325 +05:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-04-16 22:35:14.347 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-04-16 22:35:14.369 +05:00 [DBG] Context 'AuthDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-04-16 22:35:14.369 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.369 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.370 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.370 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.370 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.370 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.370 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.370 +05:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-04-16 22:35:14.392 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-04-16 22:35:14.393 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.393 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.393 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.393 +05:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-04-16 22:35:14.405 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.406 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.406 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.406 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.406 +05:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-04-16 22:35:14.429 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-04-16 22:35:14.431 +05:00 [DBG] Context 'AuthDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-04-16 22:35:14.431 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.431 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.431 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.432 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.432 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.432 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.432 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.432 +05:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-04-16 22:35:14.433 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-04-16 22:35:14.434 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.435 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.435 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.437 +05:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-04-16 22:35:14.440 +05:00 [DBG] Hosting starting
2021-04-16 22:35:14.620 +05:00 [DBG] Reading data from file '/home/vlad/.aspnet/DataProtection-Keys/key-b15b2bb1-4f28-426c-8f27-8fbef14c1a0b.xml'.
2021-04-16 22:35:14.621 +05:00 [DBG] Reading data from file '/home/vlad/.aspnet/DataProtection-Keys/key-782d85a9-8cc3-49c5-b42d-410e7ccf14ce.xml'.
2021-04-16 22:35:14.627 +05:00 [DBG] Found key {b15b2bb1-4f28-426c-8f27-8fbef14c1a0b}.
2021-04-16 22:35:14.633 +05:00 [DBG] Found key {782d85a9-8cc3-49c5-b42d-410e7ccf14ce}.
2021-04-16 22:35:14.640 +05:00 [DBG] Considering key {b15b2bb1-4f28-426c-8f27-8fbef14c1a0b} with expiration date 2021-04-26 20:13:27Z as default key.
2021-04-16 22:35:14.650 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-04-16 22:35:14.651 +05:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2021-04-16 22:35:14.651 +05:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2021-04-16 22:35:14.653 +05:00 [DBG] Using key {b15b2bb1-4f28-426c-8f27-8fbef14c1a0b} as the default key.
2021-04-16 22:35:14.654 +05:00 [DBG] Key ring with default key {b15b2bb1-4f28-426c-8f27-8fbef14c1a0b} was loaded during application startup.
2021-04-16 22:35:14.696 +05:00 [DBG] TaskSchedulingThreadPool configured with max concurrency of 10 and TaskScheduler ThreadPoolTaskScheduler.
2021-04-16 22:35:14.708 +05:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-04-16 22:35:14.709 +05:00 [INF] Quartz Scheduler v.3.2.4.0 created.
2021-04-16 22:35:14.711 +05:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-04-16 22:35:14.713 +05:00 [INF] RAMJobStore initialized.
2021-04-16 22:35:14.719 +05:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.2.4.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-04-16 22:35:14.720 +05:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-04-16 22:35:14.720 +05:00 [INF] Quartz scheduler version: 3.2.4.0
2021-04-16 22:35:14.736 +05:00 [INF] Adding 0 jobs, 0 triggers.
2021-04-16 22:35:14.743 +05:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-04-16 22:35:14.746 +05:00 [DBG] Batch acquisition of 0 triggers
2021-04-16 22:35:14.765 +05:00 [INF] Entity Framework Core 5.0.4 initialized 'AuthDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MaxPoolSize=128 
2021-04-16 22:35:14.811 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-04-16 22:35:14.811 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-04-16 22:35:14.811 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.811 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.811 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                    SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
                    FROM information_schema.tables
                    WHERE table_type = 'BASE TABLE' AND table_schema NOT IN ('pg_catalog', 'information_schema')
2021-04-16 22:35:14.823 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                    SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
                    FROM information_schema.tables
                    WHERE table_type = 'BASE TABLE' AND table_schema NOT IN ('pg_catalog', 'information_schema')
2021-04-16 22:35:14.824 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.824 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.843 +05:00 [DBG] Compiling query expression: 
'DbSet<OpenIddictEntityFrameworkCoreApplication>()
    .AsTracking()
    .Where(application => application.ClientId == __identifier_0)
    .FirstOrDefault()'
2021-04-16 22:35:14.847 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<OpenIddictEntityFrameworkCoreApplication>(
    asyncEnumerable: new SingleQueryingEnumerable<OpenIddictEntityFrameworkCoreApplication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: OpenIddictEntityFrameworkCoreApplication.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: OpenIddictEntityFrameworkCoreApplication.ClientId (string) Index MaxLength(100), 1], [Property: OpenIddictEntityFrameworkCoreApplication.ClientSecret (string), 2], [Property: OpenIddictEntityFrameworkCoreApplication.ConcurrencyToken (string) Concurrency MaxLength(50), 3], [Property: OpenIddictEntityFrameworkCoreApplication.ConsentType (string) MaxLength(50), 4], [Property: OpenIddictEntityFrameworkCoreApplication.DisplayName (string), 5], [Property: OpenIddictEntityFrameworkCoreApplication.DisplayNames (string), 6], [Property: OpenIddictEntityFrameworkCoreApplication.Permissions (string), 7], [Property: OpenIddictEntityFrameworkCoreApplication.PostLogoutRedirectUris (string), 8], [Property: OpenIddictEntityFrameworkCoreApplication.Properties (string), 9], [Property: OpenIddictEntityFrameworkCoreApplication.RedirectUris (string), 10], [Property: OpenIddictEntityFrameworkCoreApplication.Requirements (string), 11], [Property: OpenIddictEntityFrameworkCoreApplication.Type (string) MaxLength(50), 12], }
            SELECT TOP(1) o.Id, o.ClientId, o.ClientSecret, o.ConcurrencyToken, o.ConsentType, o.DisplayName, o.DisplayNames, o.Permissions, o.PostLogoutRedirectUris, o.Properties, o.RedirectUris, o.Requirements, o.Type
            FROM OpenIddictApplications AS o
            WHERE o.ClientId == @__identifier_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, OpenIddictEntityFrameworkCoreApplication>, 
        Auth.Contexts.AuthDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-04-16 22:35:14.848 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.848 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.848 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.848 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.848 +05:00 [DBG] Executing DbCommand [Parameters=[@__identifier_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."ClientId", o."ClientSecret", o."ConcurrencyToken", o."ConsentType", o."DisplayName", o."DisplayNames", o."Permissions", o."PostLogoutRedirectUris", o."Properties", o."RedirectUris", o."Requirements", o."Type"
FROM "OpenIddictApplications" AS o
WHERE o."ClientId" = @__identifier_0
LIMIT 1
2021-04-16 22:35:14.873 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__identifier_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."ClientId", o."ClientSecret", o."ConcurrencyToken", o."ConsentType", o."DisplayName", o."DisplayNames", o."Permissions", o."PostLogoutRedirectUris", o."Properties", o."RedirectUris", o."Requirements", o."Type"
FROM "OpenIddictApplications" AS o
WHERE o."ClientId" = @__identifier_0
LIMIT 1
2021-04-16 22:35:14.884 +05:00 [DBG] Context 'AuthDbContext' started tracking 'OpenIddictEntityFrameworkCoreApplication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-04-16 22:35:14.901 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.901 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.902 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.918 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-04-16 22:35:14.918 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-04-16 22:35:14.918 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.918 +05:00 [DBG] Opened connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.918 +05:00 [DBG] Executing DbCommand [Parameters=[@__identifier_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."ClientId", o."ClientSecret", o."ConcurrencyToken", o."ConsentType", o."DisplayName", o."DisplayNames", o."Permissions", o."PostLogoutRedirectUris", o."Properties", o."RedirectUris", o."Requirements", o."Type"
FROM "OpenIddictApplications" AS o
WHERE o."ClientId" = @__identifier_0
LIMIT 1
2021-04-16 22:35:14.940 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@__identifier_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."ClientId", o."ClientSecret", o."ConcurrencyToken", o."ConsentType", o."DisplayName", o."DisplayNames", o."Permissions", o."PostLogoutRedirectUris", o."Properties", o."RedirectUris", o."Requirements", o."Type"
FROM "OpenIddictApplications" AS o
WHERE o."ClientId" = @__identifier_0
LIMIT 1
2021-04-16 22:35:14.961 +05:00 [DBG] Context 'AuthDbContext' started tracking 'OpenIddictEntityFrameworkCoreApplication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-04-16 22:35:14.961 +05:00 [DBG] A data reader was disposed.
2021-04-16 22:35:14.961 +05:00 [DBG] Closing connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.961 +05:00 [DBG] Closed connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-04-16 22:35:14.982 +05:00 [DBG] Hosting started
2021-04-16 22:35:14.982 +05:00 [DBG] Loaded hosting startup assembly Auth
2021-04-16 22:35:22.236 +05:00 [DBG] Connection id "0HM80VO1GKDBU" accepted.
2021-04-16 22:35:22.237 +05:00 [DBG] Connection id "0HM80VO1GKDBU" started.
2021-04-16 22:35:22.242 +05:00 [DBG] Connection id "0HM80VO1GKDBV" accepted.
2021-04-16 22:35:22.243 +05:00 [DBG] Connection id "0HM80VO1GKDBV" started.
2021-04-16 22:35:22.271 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger - -
2021-04-16 22:35:22.274 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-04-16 22:35:22.300 +05:00 [DBG] Connection id "0HM80VO1GKDBU" completed keep alive response.
2021-04-16 22:35:22.303 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger - - - 301 0 - 33.7301ms
2021-04-16 22:35:22.317 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2021-04-16 22:35:22.367 +05:00 [DBG] Connection id "0HM80VO1GKDBU" completed keep alive response.
2021-04-16 22:35:22.369 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 52.2379ms
2021-04-16 22:35:22.399 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css - -
2021-04-16 22:35:22.400 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - -
2021-04-16 22:35:22.428 +05:00 [DBG] Connection id "0HM80VO1GKDC0" accepted.
2021-04-16 22:35:22.431 +05:00 [DBG] Connection id "0HM80VO1GKDC0" started.
2021-04-16 22:35:22.433 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js - -
2021-04-16 22:35:22.484 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-04-16 22:35:22.485 +05:00 [DBG] Connection id "0HM80VO1GKDC0" completed keep alive response.
2021-04-16 22:35:22.485 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 51.9735ms
2021-04-16 22:35:22.490 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-04-16 22:35:22.491 +05:00 [DBG] Connection id "0HM80VO1GKDBU" completed keep alive response.
2021-04-16 22:35:22.512 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css - - - 200 142933 text/css 112.7578ms
2021-04-16 22:35:22.513 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-04-16 22:35:22.514 +05:00 [DBG] Connection id "0HM80VO1GKDBV" completed keep alive response.
2021-04-16 22:35:22.514 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 113.9618ms
2021-04-16 22:35:22.649 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2021-04-16 22:35:22.671 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png - -
2021-04-16 22:35:22.673 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-04-16 22:35:22.674 +05:00 [DBG] Connection id "0HM80VO1GKDC0" completed keep alive response.
2021-04-16 22:35:22.674 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png - - - 200 628 image/png 3.3553ms
2021-04-16 22:35:22.716 +05:00 [DBG] Connection id "0HM80VO1GKDBV" completed keep alive response.
2021-04-16 22:35:22.716 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.3770ms
2021-06-08 18:45:09.224 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-06-08 18:45:09.300 +05:00 [INF] User profile is available. Using '/home/vlad/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-06-08 18:45:09.832 +05:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-06-08 18:45:09.833 +05:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2021-06-08 18:45:09.833 +05:00 [DBG] The index {'ApplicationId'} was not created on entity type 'OpenIddictEntityFrameworkCoreAuthorization' as the properties are already covered by the index {'ApplicationId', 'Status', 'Subject', 'Type'}.
2021-06-08 18:45:09.833 +05:00 [DBG] The index {'ApplicationId'} was not created on entity type 'OpenIddictEntityFrameworkCoreToken' as the properties are already covered by the index {'ApplicationId', 'Status', 'Subject', 'Type'}.
2021-06-08 18:45:10.037 +05:00 [INF] Entity Framework Core 5.0.4 initialized 'AuthDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MaxPoolSize=128 
2021-06-08 18:45:10.093 +05:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2021-06-08 18:45:10.247 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (Nullable<DateTimeOffset>), 6], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ApplicationUser.PasswordHash (string), 9], [Property: ApplicationUser.PhoneNumber (string), 10], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ApplicationUser.SecurityStamp (string), 12], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 13], [Property: ApplicationUser.UserName (string) MaxLength(256), 14], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        Auth.Contexts.AuthDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-06-08 18:45:10.287 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-06-08 18:45:10.305 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2021-06-08 18:45:10.315 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-06-08 18:45:10.371 +05:00 [ERR] An error occurred using the connection to database 'auth_db' on server 'tcp://172.19.0.2:5432'.
2021-06-08 18:45:10.388 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Auth.Contexts.AuthDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Sockets.SocketException (101): Network is unreachable
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|283_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<>c__DisplayClass38_0.<<Rent>g__RentAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnection.<>c__DisplayClass41_0.<<Open>g__OpenAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Sockets.SocketException (101): Network is unreachable
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|283_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<>c__DisplayClass38_0.<<Rent>g__RentAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnection.<>c__DisplayClass41_0.<<Open>g__OpenAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-06-08 18:45:10.410 +05:00 [FTL] Host terminated unexpectedly
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Sockets.SocketException (101): Network is unreachable
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|283_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<>c__DisplayClass38_0.<<Rent>g__RentAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnection.<>c__DisplayClass41_0.<<Open>g__OpenAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at Auth.Jobs.Seed.Initialize(UserManager`1 userManager, RoleManager`1 roleManager) in /home/vlad/Programs/Programs/Git/microservices/Auth/Jobs/Seed.cs:line 24
   at Auth.Program.Main(String[] args) in /home/vlad/Programs/Programs/Git/microservices/Auth/Program.cs:line 54
2021-06-08 19:06:22.177 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-06-08 19:06:22.289 +05:00 [INF] User profile is available. Using '/home/vlad/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-06-08 19:06:22.888 +05:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-06-08 19:06:22.889 +05:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2021-06-08 19:06:22.889 +05:00 [DBG] The index {'ApplicationId'} was not created on entity type 'OpenIddictEntityFrameworkCoreAuthorization' as the properties are already covered by the index {'ApplicationId', 'Status', 'Subject', 'Type'}.
2021-06-08 19:06:22.889 +05:00 [DBG] The index {'ApplicationId'} was not created on entity type 'OpenIddictEntityFrameworkCoreToken' as the properties are already covered by the index {'ApplicationId', 'Status', 'Subject', 'Type'}.
2021-06-08 19:06:23.108 +05:00 [INF] Entity Framework Core 5.0.4 initialized 'AuthDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: MaxPoolSize=128 
2021-06-08 19:06:23.170 +05:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2021-06-08 19:06:23.335 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (Nullable<DateTimeOffset>), 6], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: ApplicationUser.PasswordHash (string), 9], [Property: ApplicationUser.PhoneNumber (string), 10], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 11], [Property: ApplicationUser.SecurityStamp (string), 12], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 13], [Property: ApplicationUser.UserName (string) MaxLength(256), 14], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        Auth.Contexts.AuthDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-06-08 19:06:23.374 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-06-08 19:06:23.398 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2021-06-08 19:06:23.407 +05:00 [DBG] Opening connection to database 'auth_db' on server 'tcp://auth_db_1:5432'.
2021-06-08 19:06:23.775 +05:00 [ERR] An error occurred using the connection to database 'auth_db' on server 'tcp://auth_db_1:5432'.
2021-06-08 19:06:23.804 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Auth.Contexts.AuthDbContext'.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__27_2(Object s)
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskExtensions.WithCancellation[T](Task`1 task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout[T](Task`1 task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<>c__DisplayClass38_0.<<Rent>g__RentAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnection.<>c__DisplayClass41_0.<<Open>g__OpenAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__27_2(Object s)
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskExtensions.WithCancellation[T](Task`1 task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout[T](Task`1 task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<>c__DisplayClass38_0.<<Rent>g__RentAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnection.<>c__DisplayClass41_0.<<Open>g__OpenAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-06-08 19:06:24.005 +05:00 [FTL] Host terminated unexpectedly
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__27_2(Object s)
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskExtensions.WithCancellation[T](Task`1 task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout[T](Task`1 task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<>c__DisplayClass38_0.<<Rent>g__RentAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnection.<>c__DisplayClass41_0.<<Open>g__OpenAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at Auth.Jobs.Seed.Initialize(UserManager`1 userManager, RoleManager`1 roleManager) in /home/vlad/Programs/Programs/Git/microservices/Auth/Jobs/Seed.cs:line 24
   at Auth.Program.Main(String[] args) in /home/vlad/Programs/Programs/Git/microservices/Auth/Program.cs:line 54
